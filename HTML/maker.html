<?php
// セッション
session_start();

// データベースマネージャの読込
require_once "../データベース関連/DBManager.php";
$db = new DBManager();
?>
<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHubシステム開発演習</title>
    <link rel="icon" href="favicon.ico">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
        integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css">
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="stylesheet" href="./style_css_file/style1.css">
    <link rel="stylesheet" href="./style_css_file/style4.css">
    <script src="./script_file/script.js">
    </script>



    <!-- jQuery CDN -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

    <!-- ジャンボトロン 
  <style>
    .bg-img {
        background-image: url("./photo/cloud_backo_img.JPG");
        background-size: cover;
        background-position: center 60%;
    }
</style>
 ジャンボトロン -->
    <style type="text/css">
        #photo {
            width: 100%;
            height: 300px;
            margin: 0 auto;
            text-align: left;
            overflow: hidden;
            position: relative;
        }

        #photo img {
            top: 0;
            left: 0;
            position: absolute;
        }
    </style>
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script type="text/javascript">
        $(function () {
            var setImg = '#photo';
            var fadeSpeed = 2000;
            var switchDelay = 5000;

            $(setImg).children('img').css({ opacity: '0' });
            $(setImg + ' img:first').stop().animate({ opacity: '1', zIndex: '0' }, fadeSpeed);

            setInterval(function () {
                $(setImg + ' :first-child').animate({ opacity: '0' }, fadeSpeed).next('img').animate({ opacity: '1' }, fadeSpeed).end().appendTo(setImg);
            }, switchDelay);
        });
    </script>


</head>

<body>
    <div class="submenu-relative">
        <!-- ナブバーの記述始まり -->
        <nav class="navbar navbar-dark bg-dark fixed-top">
            <div class="container-fluid">
                <a class="navbar-brand" href="./index.html">
                    <p id="midasi">To TSM.</p>
                </a>
                <div class="btn-toolbar">
                    <div class="btn-toolbar">
                        <!--ログインボタン-->
                        <div class="button_solid003">
                            <?php
              if(isset($_SESSION['login_id'])) {
                echo "<a href='./login-file/user_logout' class='textlenlim'>ログアウト<i class='bi bi-box-arrow-right'></i></a>";
              } else {
                echo "<a href='./login-file/user_login.html'>ログイン<i class='bi bi-box-arrow-in-right'></i></a>";
              }
            ?>
                        </div>
                        <!-- ログインボタン -->
                        <div class="btn btn-group">
                            <!--お気に入り閲覧ボタン始  -->
                            <button class="navbar-toggler" onClick="location.href='./favorite.html'" type="button">
                                <i class="bi bi-heart-fill fs-2"></i>
                            </button>
                            <!-- お気に入り閲覧ボタン終 -->

                            <!-- 検索のアイコン -->
                            <button class="navbar-toggler" type="button" onclick="search_onFunc()">
                                <i class="button-submunu  bi bi-search fs-2"></i>
                            </button>

                            <!-- カゴのアイコン -->
                            <button class="navbar-toggler" onClick="location.href='./カート内確認.html'"><i
                                    class="bi bi-cart4 fs-2"></i>
                            </button>
                            <!-- Homeのアイコン -->
                                <button class="navbar-toggler" onClick="location.href='./index.html'" type="button">
                                    <i class="bi bi-house-door-fill fs-1"></i>
                        </div>
        </nav>
        <!--ナブバの記述終わり  -->

        <!-- サブメニュー表示 -->
        <div class="subu-menu-back" id="subumenu" onmouseover="submenu_overFunc()" onmouseleave="submenu_leaveFunc()">
            <div class="submenu-search">
                <h3>--検索--</h3>
                <ul>
                    <li><a href="./category.html" class="search-li-1">カテゴリーで検索</a></li>
                    <li><a href="./maker.html" class="search-li-2">メーカーで検索</a></li>
                    <li><a href="./color.html" class="search-li-3">カラーで検索</a></li>
                </ul>
            </div>
            <div class="submenu-rireki">
                <h3>--購入履歴--</h3>
                <ul>
                    <li><a href="./kounyurireki.html" class="rireki-li-1">購入履歴</a></li>
                    <li><a href="https://zozo.jp/" class="rireki-li-2">注文中の商品</a></li>
                    <!-- <p style="color:violet; font-weight: 800;">※枠から出たらサブメニューが閉じます</p> -->
                </ul>
            </div>
        </div>
        <!--サブメニュー表示  -->
        <h2 class="font_whight">
            -----<span id="makers_name">Maker</span>-----
        </h2>
        <div class="maker-flex">
            <div class="maker-list-1">
                <ul>
                    <li><form action="maker_2.html" method="post"><input type="hidden" name="makerId" value="17"><input type="submit" value="adidas" class="submitStyle" name="makerName"></form></li>
                    <li><form action="maker_2.html" method="post"><input type="hidden" name="makerId" value="6"><input type="submit" value="BEN DAVIS" class="submitStyle" name="makerName"></form></li>
                    <li><form action="maker_2.html" method="post"><input type="hidden" name="makerId" value="24"><input type="submit" value="Butter" class="submitStyle" name="makerName"></form></li>
                    <li><form action="maker_2.html" method="post"><input type="hidden" name="makerId" value="13"><input type="submit" value="Carhartt" class="submitStyle" name="makerName"></form></li>
                </ul>
            </div>
            <div class="maker-list-2">
                <ul>
                    <li><form action="maker_2.html" method="post"><input type="hidden" name="makerId" value="16"><input type="submit" value="Champion" class="submitStyle" name="makerName"></form></li>
                    <li><form action="maker_2.html" method="post"><input type="hidden" name="makerId" value="20"><input type="submit" value="Dickies" class="submitStyle" name="makerName"></form></li>
                    <li><form action="maker_2.html" method="post"><input type="hidden" name="makerId" value="22"><input type="submit" value="FTC" class="submitStyle" name="makerName"></form></li>
                    <li><form action="maker_2.html" method="post"><input type="hidden" name="makerId" value="18"><input type="submit" value="HUF" class="submitStyle" name="makerName"></form></li>
                </ul>
            </div>   <div class="maker-list-3">
                <ul>
                    <li><form action="maker_2.html" method="post"><input type="hidden" name="makerId" value="7"><input type="submit" value="Java" class="submitStyle" name="makerName"></form></li>
                    <li><form action="maker_2.html" method="post"><input type="hidden" name="makerId" value="12"><input type="submit" value="KANGOL" class="submitStyle" name="makerName"></form></li>
                    <li><form action="maker_2.html" method="post"><input type="hidden" name="makerId" value="23"><input type="submit" value="KEBOZ" class="submitStyle" name="makerName"></form></li>
                    <li><form action="maker_2.html" method="post"><input type="hidden" name="makerId" value="8"><input type="submit" value="NAUTICA" class="submitStyle" name="makerName"></form></li>
                </ul>
            </div>   <div class="maker-list-4">
                <ul>
                    <li><form action="maker_2.html" method="post"><input type="hidden" name="makerId" value="10"><input type="submit" value="perushu" class="submitStyle" name="makerName"></form></li>
                    <li><form action="maker_2.html" method="post"><input type="hidden" name="makerId" value="14"><input type="submit" value="Supreme" class="submitStyle" name="makerName"></form></li>
                    <li><form action="maker_2.html" method="post"><input type="hidden" name="makerId" value="21"><input type="submit" value="Stussy" class="submitStyle" name="makerName"></form></li>
                    <li><form action="maker_2.html" method="post"><input type="hidden" name="makerId" value="9"><input type="submit" value="XLARGE" class="submitStyle" name="makerName"></form></li>
                </ul>
            </div>
        </div>
        <!-- トップに戻るボタン -->
        <a href="#"><button class="top-return-button"><i class="bi bi-chevron-up"></i></button></a>
        <!--トップボタンここまで -->
        <!--フッター始まり-->
        <div>
            <footer class="py-3 my-4">
                <ul class="nav justify-content-center border-bottom pb-3 mb-3">
                    <li class="nav-item"><a href="./index.html" class="nav-link px-2 text-muted">HOME</a></li>
                    <li class="nav-item"><a href="./FAQ/FAQ.html"
                            class="nav-link px-2 text-muted">FAQ</a></li>
                    <li class="nav-item"><a href="./FAQ/gaiyouno.html" class="nav-link px-2 text-muted">概要</a></li>
                </ul>
                <p class="text-center text-muted"><img src="./sweat_photo/beni2.png" style="height: 100px;"></p>
            </footer>
        </div>
        <!-- フッター終わり -->

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js"
            integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK"
            crossorigin="anonymous"></script>
        <script src="./script_file/script.js"></script>
        <script>
            const allItemsList = JSON.parse('<?php echo $db->getAllItems(); ?>');
            const allMakersList = JSON.parse('<?php echo $db->getAllMaker(); ?>');
            let outerCnt = 0;
            let pantsCnt = 0;
            let sweatCnt = 0;

            // allItemsList.forEach(ele => {
            //     // console.log(allMakersList[ele.makers_id - 1]);
            //     if (ele.items_genre == "outer") {
            //         outerCnt++;
            //         if (outerCnt <= 4) {
            //             createItemCard(ele.items_genre, ele.items_id, ele.items_genre, allMakersList[ele.makers_id - 1].makers_name, ele.items_name, ele.items_price, ele.items_url);
            //         }
            //     } else if (ele.items_genre == "pants") {
            //         pantsCnt++;
            //         if (pantsCnt <= 4) {
            //             createItemCard(ele.items_genre, ele.items_id, ele.items_genre, allMakersList[ele.makers_id - 1].makers_name, ele.items_name, ele.items_price, ele.items_url);
            //         }
            //     } else if (ele.items_genre == "sweat") {
            //         sweatCnt++;
            //         if (sweatCnt <= 4) {
            //             createItemCard(ele.items_genre, ele.items_id, ele.items_genre, allMakersList[ele.makers_id - 1].makers_name, ele.items_name, ele.items_price, ele.items_url);
            //         }
            //     }
            // });

            function checkFavSt(itemId) {
                const favorite = document.getElementById(itemId);
                // console.log(favorite.checked);
                if (favorite.checked) {
                    addFavorite(itemId);
                } else {
                    delFavorite(itemId);
                }
            }
        </script>
    </div>
</body>

</html>